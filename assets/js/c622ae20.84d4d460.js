"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1264],{3905:function(a,e,m){m.r(e),m.d(e,{MDXContext:function(){return i},MDXProvider:function(){return x},mdx:function(){return h},useMDXComponents:function(){return d},withMDXComponents:function(){return N}});var s=m(67294);function n(a,e,m){return e in a?Object.defineProperty(a,e,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[e]=m,a}function t(){return t=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var m=arguments[e];for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(a[s]=m[s])}return a},t.apply(this,arguments)}function p(a,e){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),m.push.apply(m,s)}return m}function r(a){for(var e=1;e<arguments.length;e++){var m=null!=arguments[e]?arguments[e]:{};e%2?p(Object(m),!0).forEach((function(e){n(a,e,m[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(m,e))}))}return a}function l(a,e){if(null==a)return{};var m,s,n=function(a,e){if(null==a)return{};var m,s,n={},t=Object.keys(a);for(s=0;s<t.length;s++)m=t[s],e.indexOf(m)>=0||(n[m]=a[m]);return n}(a,e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);for(s=0;s<t.length;s++)m=t[s],e.indexOf(m)>=0||Object.prototype.propertyIsEnumerable.call(a,m)&&(n[m]=a[m])}return n}var i=s.createContext({}),N=function(a){return function(e){var m=d(e.components);return s.createElement(a,t({},e,{components:m}))}},d=function(a){var e=s.useContext(i),m=e;return a&&(m="function"==typeof a?a(e):r(r({},e),a)),m},x=function(a){var e=d(a.components);return s.createElement(i.Provider,{value:e},a.children)},c={inlineCode:"code",wrapper:function(a){var e=a.children;return s.createElement(s.Fragment,{},e)}},o=s.forwardRef((function(a,e){var m=a.components,n=a.mdxType,t=a.originalType,p=a.parentName,i=l(a,["components","mdxType","originalType","parentName"]),N=d(m),x=n,o=N["".concat(p,".").concat(x)]||N[x]||c[x]||t;return m?s.createElement(o,r(r({ref:e},i),{},{components:m})):s.createElement(o,r({ref:e},i))}));function h(a,e){var m=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var t=m.length,p=new Array(t);p[0]=o;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=a,r.mdxType="string"==typeof a?a:n,p[1]=r;for(var i=2;i<t;i++)p[i]=m[i];return s.createElement.apply(null,p)}return s.createElement.apply(null,m)}o.displayName="MDXCreateElement"},77592:function(a,e,m){m.r(e),m.d(e,{assets:function(){return N},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return r},metadata:function(){return i},toc:function(){return d}});var s=m(83117),n=m(80102),t=(m(67294),m(3905)),p=["components"],r={id:"ancestral_metropolis_hastings",title:"Single-Site Ancestral Metropolis-Hastings",sidebar_label:"Single-Site Ancestral MH",slug:"/ancestral_metropolis_hastings"},l=void 0,i={unversionedId:"framework_topics/mcmc_inference/ancestral_metropolis_hastings",id:"framework_topics/mcmc_inference/ancestral_metropolis_hastings",title:"Single-Site Ancestral Metropolis-Hastings",description:"Ancestral Metropolis-Hastings is one of the most fundamental Bayesian inference methods. In ancestral Metropolis-Hastings, values are sampled from the model's priors, and samples are accepted or rejected based on the sample's Metropolis acceptance probability. As such, ancestral Metropolis-Hastings is a very general inference method, making no strong assumptions about the structure of the model. However, this generality may lead it to be rather inefficient for many models.",source:"@site/../docs/framework_topics/mcmc_inference/ancestral_metropolis_hastings.md",sourceDirName:"framework_topics/mcmc_inference",slug:"/ancestral_metropolis_hastings",permalink:"/docs/ancestral_metropolis_hastings",draft:!1,editUrl:"https://github.com/facebookresearch/beanmachine/edit/main/website/../docs/framework_topics/mcmc_inference/ancestral_metropolis_hastings.md",tags:[],version:"current",frontMatter:{id:"ancestral_metropolis_hastings",title:"Single-Site Ancestral Metropolis-Hastings",sidebar_label:"Single-Site Ancestral MH",slug:"/ancestral_metropolis_hastings"},sidebar:"someSidebar",previous:{title:"Overview",permalink:"/docs/mcmc_inference"},next:{title:"Single-Site Random Walk MH",permalink:"/docs/random_walk"}},N={},d=[{value:"Algorithm",id:"algorithm",level:2},{value:"Details",id:"details",level:2},{value:"Usage",id:"usage",level:2}],x={toc:d};function c(a){var e=a.components,m=(0,n.Z)(a,p);return(0,t.mdx)("wrapper",(0,s.Z)({},x,m,{components:e,mdxType:"MDXLayout"}),(0,t.mdx)("p",null,"Ancestral Metropolis-Hastings is one of the most fundamental Bayesian inference methods. In ancestral Metropolis-Hastings, values are sampled from the model's priors, and samples are accepted or rejected based on the sample's ",(0,t.mdx)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm#Formal_derivation"},"Metropolis acceptance probability"),". As such, ancestral Metropolis-Hastings is a very general inference method, making no strong assumptions about the structure of the model. However, this generality may lead it to be rather inefficient for many models."),(0,t.mdx)("p",null,'Bean Machine provides a single-site variant of ancestral Metropolis-Hastings, in which values of random variables are sampled and updated one variable at a time (hence the name "single-site").'),(0,t.mdx)("h2",{id:"algorithm"},"Algorithm"),(0,t.mdx)("p",null,"Imagine we are using Single-Site Ancestral Metropolis-Hastings to choose a new value for a random variable ",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". Let's assume that ",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," is currently assigned a value ",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"x")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"x")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"))))),". Below are the steps to this algorithm:"),(0,t.mdx)("ol",null,(0,t.mdx)("li",{parentName:"ol"},"First, we need to propose a new value for ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". We do this by sampling from ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),"'s prior distribution, and using that value as the new proposed value for ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". Let's call that sampled value ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal"},"\u2032"))),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"x^\\prime")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))))),"."),(0,t.mdx)("li",{parentName:"ol"},"Next, we need to identify other random variables that ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," may have a ",(0,t.mdx)("em",{parentName:"li"},"direct")," influence upon. This set of random variables is referred to as the ",(0,t.mdx)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Markov_blanket"},"Markov blanket")," of ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". The Markov blanket of a random variable consists of the random variable's parents (those that it depends upon), children (those that depend upon it), and the other parents of the random variable's children. We only need to consider the Markov blanket of random variable ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," when assessing appropriateness, because only the likelihoods of these distributions are directly affected by a change in the value of ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". All other random variables in the model are conditionally independent of ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," given the random variables in ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),"'s Markov blanket."),(0,t.mdx)("li",{parentName:"ol"},"Now, we need to assess whether this sample is appropriate. We will examine the likelihood of ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal"},"\u2032"))),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"x^\\prime")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))))),", conditional on the other variables in its Markov blanket. We can do this computationally by computing the (log) likelihoods of those other random variables when ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X"),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal"},"\u2032"))),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X = x^\\prime")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))))),"."),(0,t.mdx)("li",{parentName:"ol"},"Finally, we compare the (log) likelihoods when ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X"),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("mi",{parentName:"mrow"},"x")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X = x")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x")))))," and ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mi",{parentName:"mrow"},"X"),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal"},"\u2032"))),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X = x^\\prime")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))))),". We use the ",(0,t.mdx)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Metropolis%E2%80%93Hastings_algorithm#Formal_derivation"},"Metropolis acceptance probability")," to accept ",(0,t.mdx)("span",{parentName:"li",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal"},"\u2032"))),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"x^\\prime")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))))))," that tend to have relatively higher (log) likelihoods. The exact acceptance probability can be read about in the linked article, or in the algorithm details below.")),(0,t.mdx)("h2",{id:"details"},"Details"),(0,t.mdx)("p",null,"This is the standard ancestral Metropolis-Hastings algorithm:"),(0,t.mdx)("p",null,(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Input:"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mtext",{parentName:"mrow"},"evidence\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0queries\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"R"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Input: }\\text{evidence }\\mathcal{E} \\text{ and queries } \\mathcal{R}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"Input:\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"evidence\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0queries\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal"},"R"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Given:"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mtext",{parentName:"mrow"},"a\xa0family\xa0of\xa0proposal\xa0distributions\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"Q"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Given: }\\text{a family of proposal distributions }\\mathcal{Q}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"Given:\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"a\xa0family\xa0of\xa0proposal\xa0distributions\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal"},"Q"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Create:"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mtext",{parentName:"mrow"},"initial\xa0world\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0initialized\xa0with\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0extended\xa0to\xa0include\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"R"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Create: } \\text{initial world }\\sigma\\text{ initialized with }\\mathcal{E}\\text{ and extended to include }\\mathcal{R}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"Create:\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"initial\xa0world\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0initialized\xa0with\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0extended\xa0to\xa0include\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal"},"R"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"repeat"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{repeat}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8293600000000001em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"repeat"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mtext",{parentName:"mrow"},"Let\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"V"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0represent\xa0random\xa0variables\xa0in\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0excluding\xa0"),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\text{Let }V\\text{ represent random variables in }\\sigma\\text{ excluding }\\mathcal{E}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Let\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0represent\xa0random\xa0variables\xa0in\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0excluding\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"for"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mi",{parentName:"mrow"},"X"),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"in"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mi",{parentName:"mrow"},"V"),(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"do"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\textbf{for }X\\textbf{ in }V\\textbf{do}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"for\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"\xa0in\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"do"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mtext",{parentName:"mrow"},"Sample\xa0"),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mo",{parentName:"mrow"},"\u223c"),(0,t.mdx)("msub",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,t.mdx)("mi",{parentName:"msub"},"X")),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.mdx)("mi",{parentName:"mrow",mathvariant:"normal"},"."),(0,t.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Sample }x'\\sim\\mathcal{Q}_X(. \\mid \\sigma)\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.946332em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Sample\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"\u223c"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal"},"Q")),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.32833099999999993em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mopen"},"("),(0,t.mdx)("span",{parentName:"span",className:"mord"},"."),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"\u2223"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mclose"},")")),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mtext",{parentName:"mrow"},"Clone\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0to\xa0"),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0set\xa0"),(0,t.mdx)("msubsup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,t.mdx)("mi",{parentName:"msubsup"},"X"),(0,t.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"x"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Clone }\\sigma\\text{ to }\\sigma'\\text{ and set }\\sigma'_X=x'\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.027223em",verticalAlign:"-0.275331em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Clone\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0to\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0set\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.424669em",marginLeft:"-0.03588em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X"))),(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.275331em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mtext",{parentName:"mrow"},"Recompute\xa0"),(0,t.mdx)("msubsup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,t.mdx)("mi",{parentName:"msubsup"},"Y"),(0,t.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0for\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"Y"),(0,t.mdx)("mo",{parentName:"mrow"},"\u2208"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0children\xa0of\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"X"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0in\xa0"),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Recompute }\\sigma'_{Y}\\text{ for }Y\\in\\text{ children of } X\\text{ in }\\sigma'\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.027223em",verticalAlign:"-0.275331em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Recompute\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.424669em",marginLeft:"-0.03588em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.22222em"}},"Y")))),(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.275331em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0for\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0children\xa0of\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"\xa0in\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mi",{parentName:"mrow"},"\u03b1"),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("mi",{parentName:"mrow"},"min"),(0,t.mdx)("mo",{parentName:"mrow"},"\u2061"),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mo",{parentName:"mrow",fence:"true"},"["),(0,t.mdx)("mn",{parentName:"mrow"},"1"),(0,t.mdx)("mo",{parentName:"mrow",separator:"true"},","),(0,t.mdx)("mfrac",{parentName:"mrow"},(0,t.mdx)("mrow",{parentName:"mfrac"},(0,t.mdx)("mi",{parentName:"mrow"},"p"),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.mdx)("msub",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,t.mdx)("mi",{parentName:"msub"},"X")),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.mdx)("msub",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msub"},"\u03c3"),(0,t.mdx)("mi",{parentName:"msub"},"X")),(0,t.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,t.mdx)("mrow",{parentName:"mfrac"},(0,t.mdx)("mi",{parentName:"mrow"},"p"),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,t.mdx)("msub",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,t.mdx)("mi",{parentName:"msub"},"X")),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,t.mdx)("msubsup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,t.mdx)("mi",{parentName:"msubsup"},"X"),(0,t.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"))),(0,t.mdx)("mo",{parentName:"mrow",fence:"true"},"]")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\alpha=\\min\\left[1, \\frac{p(\\sigma')\\mathcal{Q}_X(\\sigma_X\\mid\\sigma')}{p(\\sigma)\\mathcal{Q}_X(\\sigma'_X\\mid\\sigma)}\\right]\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.0037em"}},"\u03b1"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.80002em",verticalAlign:"-0.65002em"}}),(0,t.mdx)("span",{parentName:"span",className:"mop"},"min"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,t.mdx)("span",{parentName:"span",className:"minner"},(0,t.mdx)("span",{parentName:"span",className:"mopen delimcenter",style:{top:"0em"}},(0,t.mdx)("span",{parentName:"span",className:"delimsizing size2"},"[")),(0,t.mdx)("span",{parentName:"span",className:"mord"},"1"),(0,t.mdx)("span",{parentName:"span",className:"mpunct"},","),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,t.mdx)("span",{parentName:"span",className:"mfrac"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"1.06448em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.6550000000000002em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight"},"p"),(0,t.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mclose mtight"},")"),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal mtight"},"Q")),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.7416285714285715em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.160707142857143em",marginLeft:"-0.03588em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X"))),(0,t.mdx)("span",{parentName:"span",style:{top:"-2.8448em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3392928571428572em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mrel mtight"},"\u2223"),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mclose mtight"},")")))),(0,t.mdx)("span",{parentName:"span",style:{top:"-3.23em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.mdx)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,t.mdx)("span",{parentName:"span",style:{top:"-3.485em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight"},"p"),(0,t.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.8278285714285715em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,t.mdx)("span",{parentName:"span",className:"mclose mtight"},")"),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathcal mtight"},"Q")),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginLeft:"-0.03588em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,t.mdx)("span",{parentName:"span"})))))),(0,t.mdx)("span",{parentName:"span",className:"mrel mtight"},"\u2223"),(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.8278285714285715em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,t.mdx)("span",{parentName:"span",className:"mclose mtight"},")"))))),(0,t.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.5825049999999999em"}},(0,t.mdx)("span",{parentName:"span"}))))),(0,t.mdx)("span",{parentName:"span",className:"mclose nulldelimiter"})),(0,t.mdx)("span",{parentName:"span",className:"mclose delimcenter",style:{top:"0em"}},(0,t.mdx)("span",{parentName:"span",className:"delimsizing size2"},"]")))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mi",{parentName:"mrow"},"u"),(0,t.mdx)("mo",{parentName:"mrow"},"\u223c"),(0,t.mdx)("mtext",{parentName:"mrow"},"Uniform(0,\xa01)"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad u\\sim \\text{Uniform(0, 1)}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"u"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"\u223c"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Uniform(0,\xa01)"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"if"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mi",{parentName:"mrow"},"u"),(0,t.mdx)("mo",{parentName:"mrow"},"<"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03b1"),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"then")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\textbf{if }u<\\alpha\\textbf{ then}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.73354em",verticalAlign:"-0.0391em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"if\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal"},"u"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"<"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.0037em"}},"\u03b1"),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"\xa0then"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mo",{parentName:"mrow"},"="),(0,t.mdx)("msup",{parentName:"mrow"},(0,t.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,t.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\qquad\\sigma=\\sigma'\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,t.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord"},(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,t.mdx)("span",{parentName:"span",className:"msupsub"},(0,t.mdx)("span",{parentName:"span",className:"vlist-t"},(0,t.mdx)("span",{parentName:"span",className:"vlist-r"},(0,t.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,t.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,t.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,t.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},(0,t.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032")))))))))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"end"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"if")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\textbf{end if}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"end\xa0if"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"end"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"for")),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\textbf{end for}\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"end\xa0for"))),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,t.mdx)("mtext",{parentName:"mrow"},"Emit\xa0sample\xa0"),(0,t.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,t.mdx)("mspace",{parentName:"mrow",linebreak:"newline"})),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\text{Emit sample }\\sigma\\\\")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Emit\xa0sample\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3")),(0,t.mdx)("span",{parentName:"span",className:"mspace newline"})))),"\n",(0,t.mdx)("span",{parentName:"p",className:"math math-inline"},(0,t.mdx)("span",{parentName:"span",className:"katex"},(0,t.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,t.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,t.mdx)("semantics",{parentName:"math"},(0,t.mdx)("mrow",{parentName:"semantics"},(0,t.mdx)("mrow",{parentName:"mrow"},(0,t.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"until"),(0,t.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,t.mdx)("mtext",{parentName:"mrow"},"Desired\xa0number\xa0of\xa0samples")),(0,t.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{until }\\text{Desired number of samples}")))),(0,t.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,t.mdx)("span",{parentName:"span",className:"base"},(0,t.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord textbf"},"until\xa0")),(0,t.mdx)("span",{parentName:"span",className:"mord text"},(0,t.mdx)("span",{parentName:"span",className:"mord"},"Desired\xa0number\xa0of\xa0samples"))))))),(0,t.mdx)("p",null,"Or, in pseudo-code:"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre"},"For each inference iteration:\n    For each unobserved random variable X:\n        Perform a Metropolis Hastings (MH) update, which involves:\n            1. Propose a new value x\u2032 for X using proposal Q\n            2. Update the world \u03c3 to \u03c3\u2032\n            3. Accept / reject the new value x' using Metropolis acceptance probability\n")),(0,t.mdx)("h2",{id:"usage"},"Usage"),(0,t.mdx)("p",null,"The following code snippet illustrates how to use the inference method."),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-py"},"samples = bm.SingleSiteAncestralMetropolisHastings().infer(\n    queries,\n    observations,\n    num_samples,\n    num_chains,\n)\n")),(0,t.mdx)("p",null,"The parameters to ",(0,t.mdx)("inlineCode",{parentName:"p"},"infer")," are described below:"),(0,t.mdx)("table",null,(0,t.mdx)("thead",{parentName:"table"},(0,t.mdx)("tr",{parentName:"thead"},(0,t.mdx)("th",{parentName:"tr",align:null},"Name"),(0,t.mdx)("th",{parentName:"tr",align:null},"Usage"))),(0,t.mdx)("tbody",{parentName:"table"},(0,t.mdx)("tr",{parentName:"tbody"},(0,t.mdx)("td",{parentName:"tr",align:null},(0,t.mdx)("inlineCode",{parentName:"td"},"queries")),(0,t.mdx)("td",{parentName:"tr",align:null},"A ",(0,t.mdx)("inlineCode",{parentName:"td"},"List")," of ",(0,t.mdx)("inlineCode",{parentName:"td"},"@bm.random_variable")," targets to fit posterior distributions for.")),(0,t.mdx)("tr",{parentName:"tbody"},(0,t.mdx)("td",{parentName:"tr",align:null},(0,t.mdx)("inlineCode",{parentName:"td"},"observations")),(0,t.mdx)("td",{parentName:"tr",align:null},"The ",(0,t.mdx)("inlineCode",{parentName:"td"},"Dict")," of observations. Each key is a random variable, and its value is the observed value for that random variable.")),(0,t.mdx)("tr",{parentName:"tbody"},(0,t.mdx)("td",{parentName:"tr",align:null},(0,t.mdx)("inlineCode",{parentName:"td"},"num_samples")),(0,t.mdx)("td",{parentName:"tr",align:null},"Number of samples to build up distributions for the values listed in ",(0,t.mdx)("inlineCode",{parentName:"td"},"queries"),".")),(0,t.mdx)("tr",{parentName:"tbody"},(0,t.mdx)("td",{parentName:"tr",align:null},(0,t.mdx)("inlineCode",{parentName:"td"},"num_chains")),(0,t.mdx)("td",{parentName:"tr",align:null},"Number of separate inference runs to use. Multiple chains can be used by diagnostics to verify inference ran correctly.")))))}c.isMDXComponent=!0}}]);